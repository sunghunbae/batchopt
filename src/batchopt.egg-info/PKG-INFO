Metadata-Version: 2.4
Name: batchopt
Version: 2.3.3
Summary: Batch optimizer for AIMNet2
Author-email: Sung-Hun Bae <sunghun.bae@gmail.com>
Maintainer-email: Sung-Hun Bae <sunghun.bae@gmail.com>
License-Expression: MIT
Project-URL: Homepage, https://github.com/sunghunbae/batchopt
Project-URL: Repository, https://github.com/sunghunbae/batchopt.git
Project-URL: Issues, https://github.com/sunghunbae/batchopt/issues
Project-URL: Changelog, https://github.com/sunghunbae/batchopt/blob/master/CHANGELOG.md
Keywords: optimize,singlepoint,aimnet2
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3
Classifier: Operating System :: OS Independent
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: rdkit>=2024
Requires-Dist: numpy
Requires-Dist: torch
Requires-Dist: aimnet
Dynamic: license-file

# Batch Optimizer for AIMNet2

BatchOptimizer class from [Auto3D](https://github.com/isayevlab/Auto3D_pkg/)

## Install

```sh
$ pip install .
```

OR

```sh
$ pip install git+https://github.com/sunghunbae/batchopt.git

```

## Dependencies

- rdkit
- numpy
- torch
- torchani (optional for ANI2x and ANI2xt)
- aimnet ([github](https://github.com/isayevlab/aimnetcentral))
- rdworks ([pypi](https://pypi.org/project/rdworks/))

## Usage

```py
import rdworks
from batchopt import BatchOptimizer


mol = rdworks.Mol('COC1=CC2=NC=CC(=C2C=C1C(=O)N)OC3=CC(=C(C=C3)NC(=O)NC4CC4)Cl', 'lenvatinib')

batchsize_atoms = 16 * 1024

# generate and optimize each conformer with default MMFF94
mol = mol.make_confs(n=50, method='ETKDG')
# optimize with default MMFF94
mol = mol.optimize_confs()
mol = mol.drop_confs(similar=True, similar_rmsd=0.3)
mol = mol.optimize_confs(calculator=BatchOptimizer, batchsize_atoms=batchsize_atoms)
# remove similar conformers (RMSD <0.3) [and stereo-flipped conformers by default]
mol = mol.drop_confs(similar=True, similar_rmsd=0.3)
mol = mol.sort_confs().rename()
mol = mol.align_confs().cluster_confs(sort='energy')

serialized = mol.serialize()

m = rdworks.Mol().deserialize(serialized)

m = m.calculate_torsion_energies(
    calculator = BatchOptimizer,
    torsion_key = None,
    simplify = True,
    fmax = 0.05,
    interval = 20,
    use_converged_only = True,
    batchsize_atoms = batchsize_atoms,
)
```


## License

Original `Auto3D` has MIT license.
